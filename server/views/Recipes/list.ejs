<%- include ../partials/header.ejs %>
<%- include ../partials/main_nav.ejs %>
        <main class="container mt-4">
            <div class="row">
                <div class="offset-md-1 col-md-10">

                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h1 class="mb-0">
                            <%= title %>
                        </h1>
                        <a href="/recipes/add" class="btn btn-primary">
                            <i class="fas fa-plus-circle"></i> Add Recipe
                        </a>
                    </div>

                    <table class="table table-striped table-hover shadow-sm">
                        <!-- Header Row -->
                        <thead class="table-dark">
                            <tr>
                                <th class="text-center col-2">Name</th>
                                <th class="col-3">Ingredients</th>
                                <th class="col-3">Instructions</th>
                                <th class="text-center col-1">Time</th>
                                <th class="text-center col-1"></th>
                                <th class="text-center col-1"></th>
                            </tr>
                        </thead>

                        <tbody>
                            <% for(let i=0; i < RecipeList.length; i++) { %>
                                <tr>
                                    <td class="text-center">
                                        <%= RecipeList[i].name %>
                                    </td>
                                    <td>
                                        <%= RecipeList[i].ingredients.substring(0, 40) %>...
                                    </td>
                                    <td>
                                        <%= RecipeList[i].instructions.substring(0, 40) %>...
                                    </td>
                                    <td class="text-center">
                                        <%= RecipeList[i].cookTime || "N/A" %>
                                    </td>

                                    <td class="text-center">
                                        <a href="/recipes/edit/<%= RecipeList[i]._id %>" class="btn btn-warning btn-sm">
                                            <i class="fas fa-edit"></i> Edit
                                        </a>
                                    </td>

                                    <td class="text-center">
                                        <a href="/recipes/delete/<%= RecipeList[i]._id%>"
                                            class="btn btn-danger btn-sm"
                                            onclick="return confirm('Are you sure you want to delete this recipe?');">
                                            <i class="fas fa-trash-alt"></i> Delete

                                        </a>
                                    </td>

                                </tr>
                            <% } %>
                        </tbody>

                    </table>


                </div>
            </div>
        </main>

<br>
<br>
<%- include ../partials/footer.ejs %>